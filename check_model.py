# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏°‡πÄ‡∏î‡∏•
import os
import sys

print("=== ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏°‡πÄ‡∏î‡∏• ===\n")

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå
model_path = 'models/random_forest_model.joblib'
if os.path.exists(model_path):
    size = os.path.getsize(model_path)
    size_gb = size / (1024**3)
    print(f"‚úì ‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå: {model_path}")
    print(f"  ‡∏Ç‡∏ô‡∏≤‡∏î: {size:,} bytes ({size_gb:.2f} GB)")
    
    if size_gb > 4:
        print(f"\n‚ö† ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: ‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏≤‡∏Å ({size_gb:.2f} GB)")
        print("  ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ RAM ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8-12 GB ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•")
        print("\nüí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:")
        print("  1. ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° RAM ‡∏ß‡πà‡∏≤‡∏á")
        print("  2. ‡πÉ‡∏ä‡πâ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤ (‡∏•‡∏î n_estimators)")
        print("  3. ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ RAM ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤")
else:
    print(f"‚úó ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå: {model_path}")
    sys.exit(1)

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö RAM ‡∏ó‡∏µ‡πà‡∏°‡∏µ
try:
    import psutil
    mem = psutil.virtual_memory()
    print(f"\n=== ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ RAM ===")
    print(f"  RAM ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: {mem.total / (1024**3):.2f} GB")
    print(f"  RAM ‡∏ß‡πà‡∏≤‡∏á: {mem.available / (1024**3):.2f} GB")
    print(f"  RAM ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô: {mem.percent}%")
    
    if mem.available < size * 1.5:
        print(f"\n‚ö† RAM ‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠!")
        print(f"  ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢: {(size * 1.5) / (1024**3):.2f} GB")
        print(f"  ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà: {mem.available / (1024**3):.2f} GB")
except ImportError:
    print("\nüí° ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á psutil ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö RAM: pip install psutil")

# ‡∏•‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡πÑ‡∏ü‡∏•‡πå
print(f"\n=== ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÑ‡∏ü‡∏•‡πå ===")
try:
    with open(model_path, 'rb') as f:
        header = f.read(100)
        print(f"‚úì ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏î‡πâ")
        print(f"  Header (20 bytes ‡πÅ‡∏£‡∏Å): {header[:20]}")
except Exception as e:
    print(f"‚úó ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå: {e}")
